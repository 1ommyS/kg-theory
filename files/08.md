## 8. Перспективная проекция. Основные свойства. Матрица преобразования.

### 8.1. Основные свойства перспективной проекции

1. **Сходящиеся линии**:
    - Линии, параллельные одной из осей, сходятся в точке схода.

2. **Искажение глубины**:
    - Объекты, расположенные дальше от наблюдателя, кажутся меньше по размеру, что передаёт глубину и реалистичность.

3. **Сохранение углов**:
    - Углы между линиями могут искажаться, но сохраняются в узких пределах.

### 8.2. Матрица перспективной проекции

Перспективная проекция учитывает расстояние до наблюдателя, что приводит к уменьшению размеров объектов с увеличением расстояния.

**Матрица перспективной проекции**:
\[
P_{persp} = \begin{bmatrix}
\frac{1}{\tan(\frac{fov}{2}) \cdot aspect} & 0 & 0 & 0 \\
0 & \frac{1}{\tan(\frac{fov}{2})} & 0 & 0 \\
0 & 0 & \frac{far + near}{near - far} & \frac{2 \cdot far \cdot near}{near - far} \\
0 & 0 & -1 & 0
\end{bmatrix}
\]

**Где**:
- `fov` — угол обзора (field of view).
- `aspect` — аспектное соотношение (ширина/высота).
- `near`, `far` — ближняя и дальняя плоскости отсечения.

### 8.3. Пример использования матрицы перспективной проекции

**Код на C++ с использованием Qt**:
```cpp
#include <QMatrix4x4>
#include <QVector3D>

QMatrix4x4 createPerspectiveProjectionMatrix(float fov, float aspect, float near, float far) {
    QMatrix4x4 persp;
    persp.perspective(fov, aspect, near, far);
    return persp;
}
```

**Пример**:
```cpp
float fov = 45.0f; // Угол обзора в градусах
float aspect = 16.0f / 9.0f; // Аспектное соотношение
float near = 0.1f; // Ближняя плоскость
float far = 100.0f; // Дальняя плоскость

QMatrix4x4 perspMatrix = createPerspectiveProjectionMatrix(fov, aspect, near, far);
```

### 8.4. Визуализация перспективной проекции

Перспективная проекция используется для создания реалистичных трёхмерных изображений, где объекты уменьшаются в размерах с увеличением расстояния, имитируя восприятие человеческим глазом.


