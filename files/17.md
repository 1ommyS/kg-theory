
## 17. Цветовые координаты HSV и HLS

### 17.1. Цветовые координаты HSV

#### Определение

**HSV** (Hue, Saturation, Value) — это цветовая модель, основанная на восприятии человека. Она описывает цвет в терминах оттенка, насыщенности и яркости.

#### Компоненты:

1. **Оттенок (Hue)**:
    - Представляет цветовой тон, измеряется в градусах от 0° до 360°.
    - 0° — красный, 120° — зелёный, 240° — синий.

2. **Насыщенность (Saturation)**:
    - Определяет интенсивность цвета, от 0% (бесцветный) до 100% (полностью насыщенный).

3. **Яркость (Value)**:
    - Определяет светлость цвета, от 0% (чёрный) до 100% (максимальная яркость цвета).

#### Преобразование RGB в HSV

Для преобразования RGB в HSV используются следующие шаги:

1. **Нормализация значений RGB**:
   \[
   r' = \frac{R}{255}, \quad g' = \frac{G}{255}, \quad b' = \frac{B}{255}
   \]

2. **Вычисление максимального и минимального значений**:
   \[
   C_{max} = \max(r', g', b'), \quad C_{min} = \min(r', g', b')
   \]
   \[
   \Delta = C_{max} - C_{min}
   \]

3. **Вычисление Hue**:
   \[
   Hue =
   \begin{cases}
   0°, & \text{если } \Delta = 0 \\
   60° \times \left( \frac{g' - b'}{\Delta} \mod 6 \right), & \text{если } C_{max} = r' \\
   60° \times \left( \frac{b' - r'}{\Delta} + 2 \right), & \text{если } C_{max} = g' \\
   60° \times \left( \frac{r' - g'}{\Delta} + 4 \right), & \text{если } C_{max} = b'
   \end{cases}
   \]

4. **Вычисление Saturation**:
   \[
   Saturation =
   \begin{cases}
   0\%, & \text{если } C_{max} = 0 \\
   \left( \frac{\Delta}{C_{max}} \right) \times 100\%, & \text{иначе}
   \end{cases}
   \]

5. **Вычисление Value**:
   \[
   Value = C_{max} \times 100\%
   \]

### 17.2. Цветовые координаты HLS

#### Определение

**HLS** (Hue, Lightness, Saturation) — это ещё одна цветовая модель, основанная на восприятии человека. Она описывает цвет в терминах оттенка, светлости и насыщенности.

#### Компоненты:

1. **Оттенок (Hue)**:
    - Аналогично HSV, измеряется в градусах от 0° до 360°.

2. **Светлость (Lightness)**:
    - Определяет уровень света или тёмноты цвета, от 0% (чёрный) до 100% (белый).
    - 50% светлости соответствует базовому цвету без добавления белого или чёрного.

3. **Насыщенность (Saturation)**:
    - Определяет интенсивность цвета, аналогично HSV.
    - В HLS насыщенность зависит от светлости: при низкой светлости насыщенность может быть низкой даже для ярких цветов.

#### Преобразование RGB в HLS

Процесс преобразования RGB в HLS схож с HSV, но с различиями в вычислении светлости и насыщенности:

1. **Нормализация значений RGB**:
   \[
   r' = \frac{R}{255}, \quad g' = \frac{G}{255}, \quad b' = \frac{B}{255}
   \]

2. **Вычисление максимального и минимального значений**:
   \[
   C_{max} = \max(r', g', b'), \quad C_{min} = \min(r', g', b')
   \]
   \[
   \Delta = C_{max} - C_{min}
   \]

3. **Вычисление Hue**:
    - Аналогично HSV.

4. **Вычисление Lightness**:
   \[
   Lightness = \frac{C_{max} + C_{min}}{2} \times 100\%
   \]

5. **Вычисление Saturation**:
   \[
   Saturation =
   \begin{cases}
   0\%, & \text{если } \Delta = 0 \\
   \frac{\Delta}{1 - |2 \times Lightness - 1|} \times 100\%, & \text{иначе}
   \end{cases}
   \]

### 17.3. Сравнение HSV и HLS

| **Критерий**          | **HSV**                                | **HLS**                                  |
|-----------------------|----------------------------------------|------------------------------------------|
| **Компоненты**        | Hue, Saturation, Value                 | Hue, Lightness, Saturation               |
| **Интерпретация Saturation** | Насыщенность относительно Value | Насыщенность относительно Lightness      |
| **Применение**        | Графические приложения, цветовая коррекция | Графические приложения, выбор цветов для дизайна |
| **Преимущества**      | Простой и интуитивный для манипуляции светлостью и насыщенностью | Более точное управление светлотой для создания оттенков |

### 17.4. Заключение

Модели HSV и HLS предлагают удобные способы описания и манипуляции цветами на основе восприятия человека, облегчая задачи цветовой коррекции и дизайна. Выбор между ними зависит от конкретных требований приложения и предпочтений разработчика.

---
